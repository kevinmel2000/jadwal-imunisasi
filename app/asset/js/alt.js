var alt=angular.module("Alt",[]);alt.application="alt",alt.environment="production",alt.version="2.0.0",alt.urlArgs="",alt.urlArgs="production"==alt.environment?"_v="+alt.version:"_t="+ +new Date,alt.theme="",alt.requires=[],alt.componentFolder="component",alt.modules={},alt.loader={},alt.registry={},alt.extend=function(e,t){return e="undefined"==typeof e||null==e?{}:e,t="undefined"==typeof t||null==t?"[object Array]"===Object.prototype.toString.call(e)?[]:{}:t,angular.forEach(e,function(n,o){switch(n="undefined"==typeof n||null==n?{}:n,typeof n){case"object":t[o]="[object Array]"===Object.prototype.toString.call(n)?t[o]||n:alt.extend(e[o],t[o]);break;default:t[o]="undefined"!=typeof t[o]&&t[o]!=angular.noop?t[o]:n}}),t},alt.config(["$locationProvider","$compileProvider","$controllerProvider","$filterProvider","$logProvider","$provide",function(e,t,n,o,a,r){alt._controller=alt.controller,alt._service=alt.service,alt._factory=alt.factory,alt._value=alt.value,alt._directive=alt.directive,alt._filter=alt.filter,alt._run=alt.run,alt._config=alt.config,alt.controller=function(e,t){return n.register(e,t),this},alt.config=function(e,t){return r.config(e,t),this},alt.constant=function(e,t){return r.constant(e,t),this},alt.service=function(e,t){return r.service(e,t),this},alt.factory=function(e,t){return r.factory(e,t),this},alt.value=function(e,t){return r.value(e,t),this},alt.directive=function(e,n){return t.directive(e,n),this},alt.filter=function(e,t){return o.register(e,t),this},alt.run=function(e){for(var t=angular.element(document.getElementsByTagName("body")[0]).injector(),n=(t.get("$log"),e.slice(0,e.length-1)),o=e[e.length-1],a=0;a<e.length-1;a++)n[a]=t.get(n[a]);return o.apply(null,n),this},alt.providers={$compileProvider:t,$controllerProvider:n,$filterProvider:o,$logProvider:a,$provide:r}}]),alt.module=function(e,t){if(alt.requires.indexOf(e)<=-1){alt.requires.push(e);try{for(var n=t||angular.module(e),o=n._invokeQueue,a=n._runBlocks,r=0;r<o.length;r++){var l=o[r],i=alt.providers[l[0]];i[l[1]].apply(i,l[2])}for(var u=0;u<a.length;u++){for(var s=a[u],c=s.slice(0,s.length-1),d=s[s.length-1],f=angular.element(document.getElementsByTagName("body")[0]).injector(),p=0;p<c.length;p++)c[p]=f.get(c[p]);d.apply(null,c)}}catch(m){}}return alt},alt.directive("altComponent",["$log",function(e){return{templateUrl:function(e,t,n){var o=alt.componentFolder+"/"+t.altComponent+"/",a=o+"view."+(""!=alt.theme?alt.theme+".":"")+"html"+(""!=alt.urlArgs?"?"+alt.urlArgs:"");return a},transclude:!0,scope:{altComponent:"@",scope:"=",onload:"&?"},controller:["$scope","$timeout","$interval","$attrs","$element",function(e,t,n,o,a){var r=function(){e.onload=e.onload||function(){return angular.noop},e.onload=e.onload(),e.alt=alt;var n=alt.componentFolder+"/"+e.altComponent+"/",r=angular.element(document.getElementsByTagName("body")[0]).injector();requirejs([n+"controller"],function(n){var l=0,i=[];if("function"==typeof n){for(l=0;l<arguments.length;l++)i.push(arguments[l]);i.push(r),n.apply(this,i)}else if("object"==typeof n&&n.length){var u,s="function"==typeof n[n.length-1]?n[n.length-1]:angular.noop,c="function"==typeof n[n.length-1]?n.length-1:n.length;for(l=0;c>l;l++){switch(u=null,n[l]){case"$scope":u=e;break;case"$injector":u=r;break;case"$attrs":u=o;break;case"$element":u=a;break;default:u=r.get(n[l])||null}i.push(u)}s.apply(this,i)}angular.forEach(e.scope,function(t,n){try{e[n]=angular.copy(t)}catch(o){}});var d=function(t){return null!=t.$parent?("undefined"==typeof t.$parent.$attrs&&"object"==typeof t.$parent[o.scope]&&(t.$parent[o.scope]=e),d(t.$parent)):void 0};d(e),e.$apply(),t(function(){"function"==typeof e.onload&&"function"==typeof e.onload&&e.onload()})})},l=function(){"undefined"!=typeof e.scope&&(window.clearInterval(i),r())},i=window.setInterval(l,100)}]}}]),alt.directive("altTransclude",["$log",function(e){return{templateUrl:function(e,t,n){var o=alt.componentFolder+"/"+t.altTransclude+"/",a=o+"view."+(""!=alt.theme?alt.theme+".":"")+"html"+(""!=alt.urlArgs?"?"+alt.urlArgs:"");return a},transclude:!0,scope:!0,controller:["$scope","$timeout","$interval","$attrs","$element","$rootScope",function(e,t,n,o,a,r){e.$attrs=o;var l=function(){var n=e.$new(),r=alt.componentFolder+"/"+o.altTransclude+"/",l=angular.element(document.getElementsByTagName("body")[0]).injector();n.alt=alt,n.altTransclude=o.altTransclude,n.scope=o.scope,n.onload=e[o.onload]||angular.noop,n.parent=e,requirejs([r+"controller"],function(r){var i=0,u=[];if("function"==typeof r){for(i=0;i<arguments.length;i++)u.push(arguments[i]);u.push(l),r.apply(this,u)}else if("object"==typeof r&&r.length){var s,c="function"==typeof r[r.length-1]?r[r.length-1]:angular.noop,d="function"==typeof r[r.length-1]?r.length-1:r.length;for(i=0;d>i;i++){switch(s=null,r[i]){case"$scope":s=n;break;case"$injector":s=l;break;case"$attrs":s=o;break;case"$element":s=a;break;default:s=l.get(r[i])||null}u.push(s)}c.apply(this,u)}angular.forEach(e[o.scope],function(e,t){if(null!=e&&"undefined"==typeof e.$watch)try{n[t]=angular.copy(e)}catch(o){}}),o.scope&&(e[o.scope]=n),o.scope&&e.$parent[o.scope]&&(e.$parent[o.scope]=n),n.$apply(),t(function(){"function"==typeof n.onload&&n.onload()})})},i=function(){("undefined"==typeof o.scope||"undefined"!=typeof e[o.scope])&&(window.clearInterval(u),l())},u=window.setInterval(i,100)}]}}]),alt.factory("$uuid",function(){return{create:function(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return e()+e(!0)+e(!0)+e()},empty:function(){return"00000000-0000-0000-0000-000000000000"}}}),alt.run(["$rootScope","$q","$log",function(e,t,n){e.defaultRouteChanged=function(){var e=t.defer();return e.resolve(),e.promise},e.onRouteChanged=e.defaultRouteChanged,e.alt=alt}]),alt.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|tel):/),e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension):/)}]),window.alt=alt,alt.loader.api=function(){return"undefined"!=typeof alt.modules.api?alt.modules.api:(alt.modules.api=angular.module("alt-api",[]).config(["$provide","$httpProvider",function(e,t){t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var n=null;e.factory("httpInterceptor",["$log","$q","$window",function(e,t,o){return{request:function(e){if(n=n||e.transformRequest,e.headers["Content-Type"])if(0===e.headers["Content-Type"].indexOf("application/x-www-form-urlencoded")){var t=[],o=function(e,t){if("$$hashKey"==e)return"";var n;switch(typeof t){case"string":case"number":return e+"="+encodeURIComponent(t);case"object":n=[];for(var a in t)t.hasOwnProperty(a)&&"$$hashKey"!=a&&n.push(o(e+"["+a+"]",t[a]));return n.join("&");case"array":n=[];for(var a=0;a<t.length;a++)n.push(o(e+"["+a+"]",t[a]));return n.join("&")}};for(var a in e.data)e.data.hasOwnProperty(a)&&"$$hashKey"!=a&&t.push(o(a,e.data[a]));e.transformRequest=n,e.data=t.join("&")}else 0==e.headers["Content-Type"].indexOf("multipart/form-data")&&(e.transformRequest=[function(t){var n=new FormData,o=function(e,t,n){if("$$hashKey"==t)return"";switch(typeof n){case"string":case"number":e.append(t,n);break;case"object":if("undefined"!=typeof File&&n instanceof File)e.append(t,n);else if("undefined"==typeof File&&"undefined"!=typeof n.name)e.append(t,n);else for(var a in n)n.hasOwnProperty(a)&&"$$hashKey"!=a&&o(e,t+"["+a+"]",n[a]);break;case"array":for(var a=0;a<n.length;a++)o(e,t+"["+a+"]",n[a])}};for(var a in e.data)e.data.hasOwnProperty(a)&&"$$hashKey"!=a&&o(n,a,e.data[a]);return n}],delete e.headers["Content-Type"]);return e},response:function(e){var n={};try{n=angular.copy(e)}catch(a){}if("object"==typeof e.data){if(e.data=e.data||{},n.version=e.data.v||100,n.code=e.data.s||e.data.c||e.data.code||e.status||200,n.status=n.code,n.data=e.data.d||e.data.data||e.data,n.message=e.data.m||e.data.msg||e.data,n.time=e.data.t||0,n.usage=e.data.u||"",n.token=e.data.token||e.token||"",200!=n.status)return 401==n.status?(o.location.href=alt.baseUrl+"auth/login",t.reject(n)):(n.message=n.message||"Gagal terhubung ke server",t.reject(n))}else if(0===e.config.url.indexOf(alt.serverUrl)&&200!=e.status&&"object"!=typeof e.data)return n.code=-1,n.status=n.code,n.message="Tidak dapat terhubung ke server","development"==alt.environment.toLowerCase()&&(n.message+="<br/>"+e.data),t.reject(n);return n}}}]),t.interceptors.push("httpInterceptor")}]).factory("$api",["$http","$log","$q",function(e,t,n){return function(t,o,a){t=t||"";var r=t.split("/");return o=o||r[r.length-1]+"id",t=(0!==t.indexOf(alt.serverUrl)?alt.serverUrl:"")+t,a=alt.extend({connect:function(){return!0},success:function(){return!0},error:function(){return!0}},a),{url:t,pkey:o,config:a,connect:function(o,r,l){o=o||"",o=(0!==o.indexOf("/")?"/":"")+o,r=r||{},l=alt.extend({skipAuthorization:!1,ismultipart:!1,method:"POST"},l);var i=n.defer(),u=!1,s=i.promise,c=n.defer(),d={headers:{"Content-Type":l.ismultipart?"multipart/form-data":"application/x-www-form-urlencoded"},skipAuthorization:l.skipAuthorization,method:l.method,data:r,url:t+o,timeout:c.promise};return a.connect(d)!==!1?e(d).then(function(e){a.success(e,d,i,u)!==!1&&i.resolve(e,d,i,u)},function(e){a.error(e,d,i,u)!==!1&&i.reject(e,d,i,u)}):a.error({message:"Tidak dapat terhubung"},d,i,u)!==!1&&i.reject({message:"Tidak dapat terhubung"},d,i,u),s.abort=function(){u=!0,c.resolve()},s},count:function(e,t){return this.connect("count",e,t)},list:function(e,t){return this.connect("list",e,t)},retrieve:function(e,t,n){if(e=e||"",t=t||{},"object"==typeof e)try{t=angular.copy(e)}catch(a){t=e}else t[o]=e;return this.connect("retrieve",t,n)},keyvalues:function(e,t){return this.connect("keyvalues",e,t)},insert:function(e,t){return this.connect("insert",e,t)},update:function(e,t){return this.connect("update",e,t)},remove:function(e,t,n){if(e=e||"",t=t||{},"object"==typeof e)try{t=angular.copy(e)}catch(a){t=e}else t[o]=e;return this.connect("delete",t,n)},isexist:function(e,t){return this.connect("is_exist",e,t)}}}}]),void alt.module("alt-api",alt.modules.api))},"undefined"!=typeof define?define([],function(){alt.loader.api()}):alt.loader.api(),alt.loader.storage=function(){return"undefined"!=typeof alt.modules.storage?alt.modules.storage:(alt.modules.storage=angular.module("alt-storage",[]).factory("$storage",["$log","$q",function(e,t){return function(e,n){n=n||e+"id",store.set(alt.application+"_data",store.get(alt.application+"_data")||{});var o={table:e,pk:n,response:function(e,t){return t=t||0,{status:t,data:0==t?e:null,message:0!=t?e:""}},get:function(){var n=store.get(alt.application+"_data"),a=n[e]||[],r=t.defer();return r.resolve(o.response(a)),r.promise},save:function(n){var a=store.get(alt.application+"_data");a[e]=n,store.set(alt.application+"_data",a);var r=t.defer();return r.resolve(o.response(1)),r.promise},list:function(){return o.get()},search:function(n,a){var r=t.defer();return o.list(e).then(function(e){for(var t=e.data,l={id:-1,data:null},i=0;i<t.length;i++)if(t[i][n]==a){l.id=i,l.data=t[i][n];break}-1==l.id?r.reject(o.response("Data tidak ditemukan",l.id)):r.resolve(o.response(l))}),r.promise},count:function(){var n=t.defer();return o.list(e).then(function(e){var t=e.data,a=t.length;n.resolve(o.response(a))}),n.promise},insert:function(a){var r=t.defer();return o.list(e).then(function(e){var t=e.data;a[n]=parseInt(t[t.length-1]?t[t.length-1][n]||0:0)+1,t.push(a),o.save(t).then(function(){r.resolve(o.response(res))})}),r.promise},retrieve:function(e){var a=t.defer();return o.search(n,e).then(function(e){var t=e.data,n=t.data;a.resolve(o.response(n))},function(e){a.reject(o.response(e))}),a.promise},update:function(e){var a=t.defer();return o.list().then(function(t){var r=t.data;o.search(n,e[n]).then(function(t){var n=t.data;r[n.id]=e,o.save(r).then(function(){a.resolve(o.response(1))})},function(e){a.reject(o.response("Tidak ada data yang diupdate",-1))})}),a.promise},remove:function(e){var a=t.defer();o.list().then(function(e){var t=e.data;o.search(n,newdata[n]).then(function(e){var n=e.data;t.splice(n.id,1),o.save(t).then(function(){a.resolve(o.response(1))})},function(e){a.reject(o.response("Tidak ada data yang dihapus",-1))})})},keyvalues:function(n,a){a=a||"";var r=t.defer();return o.list(e).then(function(e){for(var t=e.data,o={},l=0;l<t.length;l++)o[t[l][n]]=""!=a?t[l][a]:t[l];r.resolve(o)}),r.promise},isexist:function(e,n){var a=t.defer();return o.list().then(function(t){for(var o=t.data,r=0,l=0;l<o.length;l++)r+=o[l][e]==n?1:0;a.resolve(r)}),a.promise}};return o}}]),void alt.module("alt-storage",alt.modules.storage))},"undefined"!=typeof define?define([],function(){alt.loader.storage()}):alt.loader.storage(),alt.loader.socket=function(){return"undefined"!=typeof alt.modules.socket?alt.modules.socket:(alt.socketUrl="",alt.modules.socket=angular.module("alt-socket",[]).provider("socketFactory",[function(){"use strict";var e="socket:";this.$get=["$rootScope","$timeout",function(t,n){var o=function(e,t){return t?function(){var o=arguments;n(function(){t.apply(e,o)},0)}:angular.noop};return function(n){n=n||{};var a=n.ioSocket||io.connect(),r=void 0===n.prefix?e:n.prefix,l=n.scope||t,i=function(e,t){a.on(e,t.__ng=o(a,t))},u=function(e,t){a.once(e,t.__ng=o(a,t))},s={on:i,addListener:i,once:u,emit:function(e,t,n){var r=arguments.length-1,n=arguments[r];return"function"==typeof n&&(n=o(a,n),arguments[r]=n),a.emit.apply(a,arguments)},removeListener:function(e,t){return t&&t.__ng&&(arguments[1]=t.__ng),a.removeListener.apply(a,arguments)},removeAllListeners:function(){return a.removeAllListeners.apply(a,arguments)},disconnect:function(e){return a.disconnect(e)},connect:function(){return a.connect()},forward:function(e,t){e instanceof Array==!1&&(e=[e]),t||(t=l),e.forEach(function(e){var n=r+e,l=o(a,function(){Array.prototype.unshift.call(arguments,n),t.$broadcast.apply(t,arguments)});t.$on("$destroy",function(){a.removeListener(e,l)}),a.on(e,l)})}};return s}}]}]).factory("$socket",["socketFactory",function(e){return e({ioSocket:io.connect(alt.socketUrl||alt.serverUrl)})}]),void alt.module("alt-socket",alt.modules.socket))},"undefined"!=typeof define?define([],function(){alt.loader.socket()}):alt.loader.socket(),alt.loader["export"]=function(){return"undefined"!=typeof alt.modules["export"]?alt.modules["export"]:(alt.modules["export"]=angular.module("alt-export",[]).factory("$export",["$log",function(e){return{excel:function(e,t){t=t||"download",e+="";var n="data:application/vnd.ms-excel;base64,",o="";o+='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:Name>'+t+"</x:Name><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>"+t+"</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body>",o+=e,o+="</body></html>",window.open(n+window.btoa(o),"_blank")},print:function(e,t){e=e||"",t=t||'<link type="text/css" rel="stylesheet" media="all" href="asset/lib/bootstrap2.3.2/bootstrap/css/bootstrap.min.css"/><link type="text/css" rel="stylesheet" media="all" href="asset/css/bootstrap-responsive.min.css"/><link type="text/css" rel="stylesheet" media="all" href="asset/css/style.css"/>';var n=window.open("","","left=0,top=0,width=800,height=900,toolbar=0,scrollbars=0,status=0");n.document.write(t),n.document.write(e),n.document.close(),n.focus(),n.print(),n.close()}}}]),void alt.module("alt-export",alt.modules["export"]))},"undefined"!=typeof define?define([],function(){alt.loader["export"]()}):alt.loader["export"](),alt.loader.secure=function(){return"undefined"!=typeof alt.modules.secure?alt.modules.secure:(alt.modules.secure=angular.module("alt-secure",[]).config(["$provide","$httpProvider",function(e,t){e.factory("secureRequestHttpInterceptor",["$log","$q","$window",function(e,t,n){var o={request:function(e){if(e.data&&"production"==alt.environment&&"POST"==e.method&&0===e.url.indexOf(alt.serverUrl)&&"application/x-www-form-urlencoded"==e.headers["Content-Type"]&&-1==e.url.indexOf("auth/secure")&&"undefined"!=typeof alt.secure&&"undefined"!=typeof alt.secure.key&&"undefined"!=typeof alt.secure.iv){var t=CryptoJS.enc.Utf8.parse(alt.secure.key+""),n=CryptoJS.enc.Base64.parse(alt.secure.iv+""),o=CryptoJS.AES.encrypt(e.data,t,{iv:n,padding:CryptoJS.pad.Pkcs7});e.data=o.toString()}return e}};return o}]),t.interceptors.push("secureRequestHttpInterceptor"),e.factory("secureResponseHttpInterceptor",["$log","$q","$window",function(e,t,n){var o={response:function(e){if("production"==alt.environment&&"POST"==e.config.method&&0===e.config.url.indexOf(alt.serverUrl)&&"application/x-www-form-urlencoded"==e.config.headers["Content-Type"]&&-1==e.config.url.indexOf("auth/secure")&&"undefined"!=typeof alt.secure&&"undefined"!=typeof alt.secure.key&&"undefined"!=typeof alt.secure.iv){try{for(var t=e.data+"",n=CryptoJS.enc.Utf8.parse(alt.secure.key+""),o=CryptoJS.enc.Base64.parse(alt.secure.iv+""),a=CryptoJS.AES.decrypt(t,n,{iv:o,padding:CryptoJS.pad.Pkcs7}),r=CryptoJS.enc.Utf8.stringify(a),l="",i=0;i<r.length;i++)"AA=="!=btoa(r[i])&&(l+=r[i]);r=l}catch(u){throw new Error("Tidak dapat melakukan parsing response dari server")}try{e.data=angular.fromJson(r)}catch(u){e.data=r}200!=e.status&&(e.message=e.data)}return e},responseError:function(e){var n=o.response(e);return 200!=e.status?t.reject(n):n}};return o}]),t.interceptors.splice(1,0,"secureResponseHttpInterceptor")}]),void alt.module("alt-secure",alt.modules.secure))},"undefined"!=typeof define?define([],function(){alt.loader.secure()}):alt.loader.secure(),alt.loader.route=function(){return"undefined"!=typeof alt.modules.route?alt.modules.route:(alt.baseUrl="#!/",alt.routeFolder=alt.routeFolder||"route",alt.defaultRoute=alt.defaultRoute||"",alt.modules.route=angular.module("alt-route",["ngRoute"]).config(["$locationProvider","$compileProvider","$routeProvider",function(e,t,n){e.html5Mode(!1),e.hashPrefix("!");var o=/^\s*(https?|ftp|mailto|file|tel|app):|data:image|javascript:|\//;t.urlSanitizationWhitelist&&t.urlSanitizationWhitelist(o),alt.routing=function(){return{templateUrl:function(e){var t=alt.routeFolder+"/"+(e.altmodule?e.altmodule+"/":"")+(e.altcontroller?e.altcontroller+"/":"")+(e.altaction?e.altaction+"/":""),n=t+"view."+(""!=alt.theme?alt.theme+".":"")+"html"+(""!=alt.urlArgs?"?"+alt.urlArgs:"");return n},controller:["$scope","$log","$routeParams","$rootScope","$q",function(e,t,n,o,a){var r=o.onRouteChanged(n)||function(){var e=a.defer();return e.resolve(),e.promise},l=alt.routeFolder+"/"+(n.altmodule?n.altmodule+"/":"")+(n.altcontroller?n.altcontroller+"/":"")+(n.altaction?n.altaction+"/":""),i=angular.element(document.getElementsByTagName("body")[0]).injector();r.then(function(){requirejs([l+"controller"],function(t){var n=0,a=[];if("function"==typeof t){for(n=0;n<arguments.length;n++)a.push(arguments[n]);a.push(i),t.apply(this,a)}else if("object"==typeof t&&t.length){var r,l="function"==typeof t[t.length-1]?t[t.length-1]:angular.noop,u="function"==typeof t[t.length-1]?t.length-1:t.length;for(n=0;u>n;n++){switch(r=null,t[n]){case"$scope":r=e;break;case"$injector":r=i;break;default:r=i.get(t[n])||null}a.push(r)}l.apply(this,a)}e.$apply(),o.$emit("$routeChangeLoaded")})})}]}},n.when("/",""!=alt.defaultRoute?{redirectTo:alt.defaultRoute}:alt.routing()),n.when("/:altaction",alt.routing()),n.when("/:altcontroller/:altaction",alt.routing()),n.when("/:altmodule/:altcontroller/:altaction",alt.routing()),n.otherwise({resolve:{redirectCheck:["$location",function(e){-1===e.absUrl().indexOf(alt.baseUrl)&&e.path("/")}]}})}]),void alt.module("alt-route",alt.modules.route))},"undefined"!=typeof define?define([],function(){alt.loader.route()}):alt.loader.route(),alt.loader.validation=function(){return"undefined"!=typeof alt.modules.validation?alt.modules.validation:(alt.modules.validation=angular.module("alt-validation",[]).factory("$valid",["$log",function(e){return{required:function(e){return 0!==e&&(e=(e||"")+""),""!==e&&"undefined"!=typeof e},regex:function(e,t){return e=(e||"")+"",t.test(e)},email:function(e){return this.regex(e,/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i)},username:function(e){return e+="",e.toLowerCase().replace(/[^a-z0-9._-]/,"")},number:function(e){return this.regex(e,/^[0-9]+\.?[0-9]*?$/i)},integer:function(e){return this.regex(e,/^[0-9]*$/i)},equals:function(e,t){return e===t},notequals:function(e,t){return e!==t},lessthan:function(e,t){return t>e},lessequalthan:function(e,t){return t>=e},greaterthan:function(e,t){return e>t},greaterequalthan:function(e,t){return t>=e},between:function(e,t,n){return e>=t&&n>=e},date:function(e){return e+="",8==e.length&&moment(e,"YYYYMMDD").isValid()},month:function(e){return e+="",6==e.length&&moment(e,"YYYYMM").isValid()},year:function(e){return e+="",4==e.length&&moment(e,"YYYY").isValid()},time:function(e){return e+="",4==e.length&&moment(e,"HHmm").isValid()}}}]).factory("$validate",["$valid","$log","$injector",function(e,t,n){var o=function(){return{rules:[],messages:[],rule:function(e,t){return this.rules.push(e),this.messages.push(t),this},validate:function(){for(var e=!0,t=[],n=0;n<this.rules.length;n++)this.rules[n]||(e=!1,t.push(this.messages[n]));return{res:e,message:t}},check:function(){var e=this.validate(),t=n.get("$alert");if(!e.res&&t)for(var o=0;o<e.message.length;o++)t.add(e.message[o],t.danger);return e.res}}};for(var a in e)e.hasOwnProperty(a)&&(o[a]=e[a]);return o}]),void alt.module("alt-validation",alt.modules.route))},"undefined"!=typeof define?define([],function(){alt.loader.validation()}):alt.loader.validation(),alt.loader.alert=function(){return"undefined"!=typeof alt.modules.alert?alt.modules.alert:(alt.modules.alert=angular.module("alt-alert",[]).factory("$alert",["$log","$timeout","$rootScope",function(e,t,n){return{items:[],warning:"warning",danger:"danger",info:"info",success:"success",ismultiple:!0,timer:4e3,add:function(e,n,o){e=e||"",n=n||this.warning,o=o||0,this.ismultiple||(this.items=[]);var a=this,r=this.items.length,l={id:r,type:n,message:e,skip:o,isshow:0==o,hide:function(){this.isshow=!1,a.items.splice(a.items.indexOf(this),1)},onload:function(){var e=this;t(function(){e.hide()},a.timer)}};this.items.push(l)}}}]).run(["$log","$timeout","$rootScope","$alert",function(e,t,n,o){n.$alert=o}]),void alt.module("alt-alert",alt.modules.alert))},"undefined"!=typeof define?define([],function(){alt.loader.alert()}):alt.loader.alert(),alt.loader.menu=function(){return"undefined"!=typeof alt.modules.menu?alt.modules.menu:(alt.menu="",alt.menuFolder=alt.menuFolder||"menu",alt.modules.menu=angular.module("alt-menu",[]).run(["$rootScope",function(e){e.menu=store.get(alt.application+"_menu")||{submenu:""},e.$watch("menu",function(t,n){t!=n&&(store.set(alt.application+"_menu",t),e.menu=t)},!0),e.$on("$routeChangeStart",function(t,n,o){alt.menu=alt.menuFolder+"/"+("viewer"==n.params.altaction?$auth.userdata.usergroupname:"public")+".html",e.menuLocation=alt.menu,e.menu.submenu=""})}]),void alt.module("alt-menu",alt.modules.menu))},"undefined"!=typeof define?define([],function(){alt.loader.menu()}):alt.loader.menu(),alt.loader.loading=function(){"undefined"==typeof alt.modules.loading&&(alt.modules.loading=angular.module("alt-loading",[]).factory("$loading",["$log","$rootScope","$q",function(e,t,n){return{deferred:null,show:function(){t.$loading.isshow=!0},close:function(){t.$loading.isshow=!1}}}]).run(["$log","$timeout","$rootScope","$loading",function(e,t,n,o){n.$loading={}}]),alt.module("alt-loading",alt.modules.loading))},"undefined"!=typeof define?define([],function(){alt.loader.loading()}):alt.loader.loading(),alt.loader.i18n=function(){return"undefined"!=typeof alt.modules.i18n?alt.modules.i18n:(alt.language="id",alt.dictionary=alt.extend({id:{}},alt.dictionary),alt.modules.i18n=angular.module("alt-i18n",[]).run(["$rootScope","$i18n",function(e,t){e.$i18n=t}]).factory("$i18n",["$log",function(e){return function(e){return alt.dictionary[alt.language]?alt.dictionary[alt.language][e]||e:e}}]),void alt.module("alt-i18n",alt.modules.i18n))},"undefined"!=typeof define?define([],function(){alt.loader.i18n()}):alt.loader.i18n(),alt.loader.auth=function(){return"undefined"!=typeof alt.modules.auth?alt.modules.auth:(alt.modules.auth=angular.module("alt-auth",["angular-jwt"]).factory("$auth",["$log","$window","jwtHelper",function(e,t,n){return store.set(alt.application+"_token",store.get(alt.application+"_token")||""),store.set(alt.application+"_userdata",store.get(alt.application+"_userdata")||{}),{token:"",userdata:{},set_token:function(e){this.token=e,store.set(alt.application+"_token",this.token)},set_userdata:function(e){this.userdata=e,store.set(alt.application+"_userdata",this.userdata)},login:function(e){"string"==typeof e?(this.set_token(e),this.set_userdata(n.decodeToken(this.token))):this.set_userdata(e)},logout:function(){this.token="",this.userdata={},store.set(alt.application+"_token",""),store.set(alt.application+"_userdata",{}),store.set(alt.application+"_filter",""),store.set(alt.application+"_sorting","")},islogin:function(){return""!=this.token?!n.isTokenExpired(this.token):Object.keys(this.userdata).length>0},check:function(e){return 0==e?this.islogin():this.islogin()&&"undefined"!=typeof this.userdata.userlevel&&(parseInt(this.userdata.userlevel)&parseInt(e))>0},set_permission:function(e,n){return n="undefined"!=typeof n?n:!0,this.check(e)?!0:(n&&(t.location.href=alt.baseUrl+"error?code=403"),!1)}}}]).config(["$provide","$httpProvider",function(e,t){e.factory("authHttpInterceptor",["$auth","$log","$q","$window",function(e,t,n,o){return{request:function(t){return e.token&&(t.headers.Authorization="Bearer "+e.token),t.timeout=alt.timeout||5e3,t}}}]),t.interceptors.reverse().push("authHttpInterceptor"),t.interceptors.reverse()}]).run(["$rootScope","$auth","$log",function(e,t,n){e.$auth=t,""!=store.get(alt.application+"_token")&&t.login(store.get(alt.application+"_token")),""!=store.get(alt.application+"_userdata")&&t.login(store.get(alt.application+"_userdata"))}]),void alt.module("alt-auth",alt.modules.auth))},"undefined"!=typeof define?define([],function(){alt.loader.auth()}):alt.loader.auth();